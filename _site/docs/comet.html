<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../icon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../icon/favicon-16x16.png"><link rel="manifest" href="../icon/site.webmanifest"><link rel="mask-icon" href="../icon/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="/dev.io/assets/css/just-the-docs-default.css"><link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-blue.min.css" /> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2709176-10"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2709176-10', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="/dev.io/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/dev.io/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Comet 101 | SDSC-101-Dev</title><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Comet 101" /><meta property="og:locale" content="en_US" /><meta name="description" content="SDSC-101 Dev branch" /><meta property="og:description" content="SDSC-101 Dev branch" /><link rel="canonical" href="http://localhost:4000/dev.io/docs/comet" /><meta property="og:url" content="http://localhost:4000/dev.io/docs/comet" /><meta property="og:site_name" content="SDSC-101-Dev" /> <script type="application/ld+json"> {"description":"SDSC-101 Dev branch","url":"http://localhost:4000/dev.io/docs/comet","@type":"WebPage","headline":"Comet 101","@context":"https://schema.org"}</script> <button class="btn js-toggle-dark-mode">dark scheme</button> <script> const toggleDarkMode = document.querySelector('.js-toggle-dark-mode'); jtd.addEvent(toggleDarkMode, 'click', function(){ if (jtd.getTheme() === 'dark') { jtd.setTheme('light'); toggleDarkMode.textContent = 'dark scheme'; } else { jtd.setTheme('dark'); toggleDarkMode.textContent = 'light scheme'; } }); </script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/dev.io/" class="site-title lh-tight"> SDSC-101-Dev </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/dev.io/docs/comet" class="nav-list-link active">Comet 101</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/comet-101/Comet%20Overview/" class="nav-list-link">Comet Overview</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/comet-101/Getting%20Started%20on%20Comet/" class="nav-list-link">Getting Started on Comet</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/comet-101/Customizing/" class="nav-list-link">Customizing Your User Environment</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/comet-101/Compiling/" class="nav-list-link">Compiling & Linking</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/comet-101/Running%20Jobs/" class="nav-list-link">Running Jobs on Comet</a><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/dev.io/docs/comet/examples" class="nav-list-link">Hands-on Examples</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/dev.io/docs/comet-101/gpu/" class="nav-list-link">comp-and-run-cuda-jobs</a><li class="nav-list-item "> <a href="http://localhost:4000/dev.io/docs/comet-101/cpu/" class="nav-list-link">Compiling and Running CPU Jobss</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/dev.io/docs/expanse" class="nav-list-link">Expanse 101</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/expanse-101/Expanse%20Overview/" class="nav-list-link">Expanse Overview</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/expanse-101/start/" class="nav-list-link">Getting Started on Expanse</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/expanse-101/Customizing/" class="nav-list-link">Customizing Your User Environment</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/expanse-101/Compiling/" class="nav-list-link">Compiling & Linking</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/expanse-101/slurm/" class="nav-list-link">Using Slurm on Comet</a><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/dev.io/docs/expanse/examples" class="nav-list-link">Hands-on Examples</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/dev.io/docs/expanse-101/gpu/" class="nav-list-link">comp-and-run-cuda-jobs</a><li class="nav-list-item "> <a href="http://localhost:4000/dev.io/docs/expanse-101/cpu/" class="nav-list-link">Compiling and Running CPU Jobs</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/dev.io/docs/notebooks" class="nav-list-link">notebooks-101</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/notebooks-101/contactus/" class="nav-list-link">Contact Us</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/notebooks-101/overview/" class="nav-list-link">Jupyter Notebook Overview</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/notebooks-101/prerequisites/" class="nav-list-link">Software Prerequisites</a><li class="nav-list-item "><a href="http://localhost:4000/dev.io/docs/notebooks-101/aboutus/" class="nav-list-link">About the Team</a><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/dev.io/docs/notebooks/examples" class="nav-list-link">Example Notebooks</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/dev.io/docs/notebooks-101/httpConnect/" class="nav-list-link">Insecurity with direct node access</a><li class="nav-list-item "> <a href="http://localhost:4000/dev.io/docs/notebooks-101/reverseProxy/" class="nav-list-link">Security with Reverse Proxy Service</a><li class="nav-list-item "> <a href="http://localhost:4000/dev.io/docs/notebooks-101/runJupyterMethods/" class="nav-list-link">Jupyter Services on Comet</a><li class="nav-list-item "> <a href="http://localhost:4000/dev.io/docs/notebooks-101/tunneling/" class="nav-list-link">Security with SSH Tunneling</a></ul></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search SDSC-101-Dev" aria-label="Search SDSC-101-Dev" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="" class="site-button" > SDSC 101 on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><div id="main-content" class="main-content" role="main"><h1 id="comet-101-introduction-to-running-jobs-on-comet-supercomputer"> <a href="#comet-101-introduction-to-running-jobs-on-comet-supercomputer" class="anchor-heading" aria-labelledby="comet-101-introduction-to-running-jobs-on-comet-supercomputer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Comet 101: Introduction to Running Jobs on Comet Supercomputer</h1><p>Presented by Mary Thomas (SDSC, <a href="mailto:mpthomas@ucsd.edu">mpthomas@ucsd.edu</a> )</p><hr /><p>In this tutorial, you will learn how to compile and run jobs on Comet, where to run them, and how to run batch jobs. The commands below can be cut &amp; pasted into the terminal window, which is connected to comet.sdsc.edu. For instructions on how to do this, see the tutorial on how to use a terminal application and SSH go connect to an SDSC HPC system: https://github.com/sdsc-hpc-training/basic_skills/tree/master/connecting_to_hpc_systems.</p><h1 id="misc-notesupdates"> <a href="#misc-notesupdates" class="anchor-heading" aria-labelledby="misc-notesupdates"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Misc Notes/Updates:</h1><ul><li>You must have a comet account in order to access the system.<ul><li>To obtain a trial account: http://www.sdsc.edu/support/user_guides/comet.html#trial_accounts</ul><li>You must be familiar with running basic Unix commands: see the following tutorials at:<ul><li>https://github.com/sdsc-hpc-training/basic_skills</ul><li>The <code class="language-plaintext highlighter-rouge">hostname</code> for Comet is <code class="language-plaintext highlighter-rouge">comet.sdsc.edu</code><li>The operating system for Comet was changed to CentOS in December, 2019. As a result, you will need to recompile all code, some modules and libraries are no longer needed, and the locations of some libraries and applications have changed. For details, see the transition guide here:<ul><li>https://www.sdsc.edu/services/hpc/comet_upgrade.html</ul><li>Our next HPC system, <a href="https://expanse.sdsc.edu">E X P A N S E</a>, will be coming online for early users in September. Keep an eye on the E X P A N S E pages for training information and other updates</ul><p><em>If you have any difficulties completing these tasks, please contact SDSC Consulting group at <a href="mailto:consult@sdsc.edu">consult@sdsc.edu</a>.</em></p><hr /><p><a name="top">Contents:</a></p><ul><li><a href="#overview">Comet Overview</a><ul><li><a href="#network-arch">Comet Architecture</a><li><a href="#file-systems">Comet File Systems</a></ul><li><a href="#sys-env">Getting Started - Comet System Environment</a><ul><li><a href="#comet-accounts">Comet Accounts</a><li><a href="#comet-logon">Logging Onto Comet</a><li><a href="#example-code">Obtaining Example Code</a></ul><li><a href="#modules">Modules: Managing User Environments</a><ul><li><a href="#module-commands">Common module commands</a><li><a href="#load-and-check-module-env">Load and Check Modules and Environment</a><li><a href="#module-error">Module Error: command not found</a></ul><li><a href="#compilers">Compiling &amp; Linking</a><ul><li><a href="#compilers-supported">Supported Compiler Types</a><li><a href="#compilers-intel">Using the Intel Compilers</a><li><a href="#compilers-pgi">Using the PGI Compilers</a><li><a href="#compilers-gnu">Using the GNU Compilers</a></ul><li><a href="#running-jobs">Running Jobs on Comet</a><ul><li><a href="#running-jobs-slurm">The SLURM Resource Manager</a><ul><li><a href="#running-jobs-slurm-commands">Common Slurm Commands</a><li><a href="#running-jobs-slurm-partitions">Slurm Partitions</a></ul><li><a href="#running-jobs-slurm-interactive">Interactive Jobs using SLURM</a><li><a href="#running-jobs-slurm-batch-submit">Batch Jobs using SLURM</a><li><a href="#running-jobs-cmdline">Command Line Jobs</a></ul><li><a href="#hands-on">Hands-on Examples</a><li><a href="#comp-and-run-cuda-jobs">Compiling and Running GPU/CUDA Jobs</a><ul><li><a href="#hello-world-gpu">GPU Hello World (GPU) </a><ul><li><a href="#hello-world-gpu-compile">GPU Hello World: Compiling</a><li><a href="#hello-world-gpu-batch-submit">GPU Hello World: Batch Script Submission</a><li><a href="#hello-world-gpu-batch-output">GPU Hello World: Batch Job Output</a></ul><li><a href="#enum-gpu">GPU Enumeration </a><ul><li><a href="#enum-gpu-compile">GPU Enumeration: Compiling</a><li><a href="#enum-gpu-batch-submit">GPU Enumeration: Batch Script Submission</a><li><a href="#enum-gpu-batch-output">GPU Enumeration: Batch Job Output</a></ul><li><a href="#mat-mul-gpu">CUDA Mat-Mult</a><ul><li><a href="#mat-mul-gpu-compile">Matrix Mult. (GPU): Compiling</a><li><a href="#mat-mul-gpu-batch-submit">Matrix Mult. (GPU): Batch Script Submission</a><li><a href="#mat-mul-gpu-batch-output">Matrix Mult. (GPU): Batch Job Output</a></ul></ul><li><a href="#comp-and-run-cpu-jobs">Compiling and Running CPU Jobs</a><ul><li><a href="#hello-world-mpi">Hello World (MPI)</a><ul><li><a href="#hello-world-mpi-source">Hello World (MPI): Source Code</a><li><a href="#hello-world-mpi-compile">Hello World (MPI): Compiling</a><li><a href="#hello-world-mpi-interactive">Hello World (MPI): Interactive Jobs</a><li><a href="#hello-world-mpi-batch-submit">Hello World (MPI): Batch Script Submission</a><li><a href="#hello-world-mpi-batch-output">Hello World (MPI): Batch Script Output</a></ul><li><a href="#hello-world-omp">Hello World (OpenMP)</a><ul><li><a href="#hello-world-omp-source">Hello World (OpenMP): Source Code</a><li><a href="#hello-world-omp-compile">Hello World (OpenMP): Compiling</a><li><a href="#hello-world-omp-batch-submit">Hello World (OpenMP): Batch Script Submission</a><li><a href="#hello-world-omp-batch-output">Hello World (OpenMP): Batch Script Output</a></ul><li><a href="#hybrid-mpi-omp">Compiling and Running Hybrid (MPI + OpenMP) Jobs</a><ul><li><a href="#hybrid-mpi-omp-source">Hybrid (MPI + OpenMP): Source Code</a><li><a href="#hybrid-mpi-omp-compile">Hybrid (MPI + OpenMP): Compiling</a><li><a href="#hybrid-mpi-omp-batch-submit">Hybrid (MPI + OpenMP): Batch Script Submission</a><li><a href="#hybrid-mpi-omp-batch-output">Hybrid (MPI + OpenMP): Batch Script Output</a></ul></ul></ul><p><a href="#top">Back to Top</a></p><hr /><hr><h2 class="text-delta">Table of contents</h2><ul><li> <a href="http://localhost:4000/dev.io/docs/comet-101/Comet%20Overview/">Comet Overview</a><li> <a href="http://localhost:4000/dev.io/docs/comet-101/Getting%20Started%20on%20Comet/">Getting Started on Comet</a><li> <a href="http://localhost:4000/dev.io/docs/comet-101/Customizing/">Customizing Your User Environment</a><li> <a href="http://localhost:4000/dev.io/docs/comet-101/Compiling/">Compiling & Linking</a><li> <a href="http://localhost:4000/dev.io/docs/comet-101/Running%20Jobs/">Running Jobs on Comet</a><li> <a href="http://localhost:4000/dev.io/docs/comet/examples">Hands-on Examples</a></ul><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-000 mb-0">Copyright &copy; Cyber Infrastructure Machine Learning MIT license.</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/Lzy17/expanse101-Jekyll/tree/main/docs/comet-101/Comet 101.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
